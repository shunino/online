webpackJsonp([7],{107:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){e.default={name:"navprocess",data:function(){return{width:"10"}},props:["splitlength"],created:function(){this.width=innerWidth/this.splitlength},mounted:function(){for(var e=1;e<this.splitlength;e++)t("#split"+e).css("border-right","2px solid white")},filters:{filter:function(t){return"split"+t}},methods:{setProcess:function(e){t(".nav").find("li:eq("+(e-1)+")").addClass("active")}}}}.call(e,o(3))},108:function(t,e,o){e=t.exports=o(55)(!1),e.i(o(111),""),e.push([t.i,"",""])},111:function(t,e,o){e=t.exports=o(55)(!1),e.push([t.i,".nav{position:fixed;bottom:0;width:100%;list-style:none;padding:0;margin:0;height:.15rem}.nav li{background:#d7d7d7;display:inline-block;height:100%}.nav .active{background:#00b96d!important}",""])},112:function(t,e,o){var i=o(108);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(56)("1d1f28c3",i,!0)},118:function(t,e,o){function i(t){o(112)}var n=o(7)(o(107),o(119),i,"data-v-5c89496b",null);t.exports=n.exports},119:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"nav"},t._l(parseInt(t.splitlength),function(e){return o("li",{class:{active:1==e},style:{width:t.width+"px"},attrs:{id:t._f("filter")(e)}})}))},staticRenderFns:[]}},155:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i,n=o(118),s=o.n(n),r=o(0),a=(o.n(r),o(21));e.default={name:"process",mixins:[a.a],data:function(){return{pageindex:1,vcode:"",tel:"",pwd:"",repwd:"",time:60}},deactivated:function(){this.$destroy(!0)},created:function(){t(".menu").hide(),document.title="注册登录"},mounted:function(){var t=localStorage.getItem("tel"),e=this.myBrowser(),o=this.getCookie("UM_distinctid"),i=localStorage.getItem("ip"),n=new Date;n=this.formatTime(n),localStorage.enter_time=n;var s=this.osType(),r=document.location.href;this.common.request.logPost("/addLog",{logtype:"mobile_visit",user_id:t||null,user_agent:e,cookie:o,ip_addr:i,os_type:s,present_url:r,record_time:n,version:"3.0.0"}).then(function(t){})},beforeRouteLeave:function(t,e,o){var n=localStorage.getItem("tel"),s=this.myBrowser(),r=this.getCookie("UM_distinctid"),a=localStorage.getItem("ip"),c=this.osType(),l=localStorage.getItem("enter_time"),d=new Date;d=this.formatTime(d);var u=window.location.host+t.path,p=window.location.href;p.indexOf("?")>0&&(p=p.substr(0,p.indexOf("?")));this.common.request.logPost("/addLog",{logtype:"mobile_visit_time",user_id:n||null,user_agent:s,cookie:r,ip_addr:a,os_type:c,enter_url:u,leave_url:p,enter_time:l,leave_time:d,version:"3.0.0"}).then(function(t){}),clearInterval(i),this.time=60,o(!0)},methods:{inputFocus:function(e){e?t(".process_navbar").hide():t(".process_navbar").show()},sendMsg:function(){var e=this;if(""==this.tel||!/^1[1-9]\d{9}$/.test(this.tel))return void o.i(r.Toast)("请填写正确的手机号");var n=this;60==this.time&&this.common.request.post("/wechat/getSMSCode",{phone:this.tel,type:0}).then(function(s){o.i(r.Toast)("发送验证码成功！"),1==e.pageindex&&(e.pageindex=2,e.$refs.child1.setProcess(2)),i=setInterval(function(){t(".resend").text(n.time--+"s后重试"),0==n.time&&(n.time=60,clearInterval(i),t(".resend").text("重新获取"))},1e3),_czc.push(["_trackEvent","新用户注册","获取验证码",n.tel,"1"])},function(t){_czc.push(["_trackEvent","新用户注册","获取验证码",n.tel,"0"])})},CheckMsg:function(){var t=this;this.common.request.post("/wechat/checkSMSCode",{phone:this.tel,code:this.vcode,type:0}).then(function(e){t.pageindex=3,t.$refs.child1.setProcess(3)})},yzminput:function(){this.vcode.length>5&&this.CheckMsg()},submit:function(){var t=this;if(""==this.pwd)return void o.i(r.Toast)("请输入新密码");if(this.pwd.length<6||this.pwd.length>11)return void o.i(r.Toast)("请输入6-11位数的密码");if(""==this.repwd)return void o.i(r.Toast)("请再次输入密码");if(this.repwd!=this.pwd)return void o.i(r.Toast)("请确保两次密码输入一致");var e=this;this.common.request.post("/wechat/register",{phone:this.tel,password:this.pwd,channelId:1}).then(function(i){localStorage.headimg=i.head,localStorage.tel=i.tel,localStorage.userId=i.id,t.common.request.setToken(i.token),localStorage.nickName=i.nickName,o.i(r.Toast)("注册成功!"),setTimeout(function(){e.$router.push("/home")},2e3),_czc.push(["_trackEvent","新用户注册","完成",e.tel,"1"])},function(t){_czc.push(["_trackEvent","新用户注册","完成",e.tel,"0"])})}},components:{NavProcess:s.a}}}.call(e,o(3))},183:function(t,e,o){e=t.exports=o(55)(!1),e.i(o(221),""),e.push([t.i,"",""])},221:function(t,e,o){e=t.exports=o(55)(!1),e.push([t.i,"h3{font-weight:700;margin:.44rem 0 .23rem}h3,h5{padding:0 20px}.inputbox{width:100%;height:.8rem;border-bottom:1px solid #d1d1d1;border-top:1px solid #d1d1d1}.inputbox input{height:.78rem;background:none;border:none}.sendVcode{color:#fff;font-size:.2rem;background:#37ab6a;padding:5px 7px;border-radius:5px;position:relative;top:.3rem}.btn-success{color:#fff;background:#00b96d;border:1px solid #00b96d;margin-top:.46rem;outline:none!important;height:.5rem;font-size:.17rem}.btn-success.active:hover,.btn-success:active,.btn-success:active:hover,.btn-success:focus,.btn-success:hover{background-color:#00b96d;border-color:#00b96d}.inputbox p{line-height:.78rem;font-size:.2rem;height:.78rem;color:#000;text-align:center;border-right:1px solid #d1d1d1}.process{font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;height:100%;overflow-y:hidden}.vcode{background:url("+o(317)+");border:none;line-height:.8rem;margin-top:.2rem;width:2.4rem;margin-left:20px;background-size:100% 100%;letter-spacing:.3rem;padding:0 .2rem}.resend{color:#37ab6a;font-size:.2rem;padding:0 20px;margin-top:10px}.loginbtn2{text-align:center;color:#00b96d;font-size:.2rem;width:100%;display:block;margin-top:2.2rem}",""])},247:function(t,e,o){var i=o(183);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(56)("143f2558",i,!0)},317:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhEAAACqBAMAAADhIgC+AAAAFVBMVEUAAADZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnUCZdTAAAABnRSTlMAw5Z4Sw+B6JlVAAAAcUlEQVR42u3QoQ2AQBAAwSMkaKpAUwUloD8E6L8E9An+voAZvWoDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGLO8fU+q56K+IjmKfE31VNR3JFuR76k+i7o54YQTP9oHqTsy3CDs5UAAAAAASUVORK5CYII="},341:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"process"},[1==t.pageindex?o("div",[o("h3",[t._v("输入手机号码")]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"inputbox",staticStyle:{"margin-top":".5rem"}},[o("p",{staticClass:"col-xs-4"},[t._v("+86")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],staticClass:"col-xs-8",attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:t.tel},on:{focus:function(e){t.inputFocus(!0)},focusout:function(e){t.inputFocus(!1)},input:function(e){e.target.composing||(t.tel=e.target.value)}}})]),t._v(" "),o("button",{staticClass:"btn btn-success",staticStyle:{width:"80%","margin-left":"10%"},attrs:{type:"button"},on:{click:t.sendMsg}},[t._v("获取验证码")])]):t._e(),t._v(" "),2==t.pageindex?o("div",[o("h3",[t._v("输入短信验证")]),t._v(" "),o("h5",[t._v("请输入手机短信收到的6位验证码")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.vcode,expression:"vcode"}],staticClass:"vcode",domProps:{value:t.vcode},on:{focus:function(e){t.inputFocus(!0)},focusout:function(e){t.inputFocus(!1)},keyup:t.yzminput,input:function(e){e.target.composing||(t.vcode=e.target.value)}}}),t._v(" "),o("p",{staticClass:"resend",on:{click:t.sendMsg}},[t._v("重新获取")])]):t._e(),t._v(" "),3==t.pageindex?o("div",[o("h3",[t._v("设置密码")]),t._v(" "),o("h5",[t._v("建议密码为6-11位以上数字与字母的结合")]),t._v(" "),o("div",{staticClass:"inputbox",staticStyle:{"margin-top":".5rem"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],staticClass:"col-xs-12",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.pwd},on:{focus:function(e){t.inputFocus(!0)},focusout:function(e){t.inputFocus(!1)},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"inputbox",staticStyle:{"border-top":"none"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.repwd,expression:"repwd"}],staticClass:"col-xs-12",attrs:{type:"password",placeholder:"请再次输入密码"},domProps:{value:t.repwd},on:{focus:function(e){t.inputFocus(!0)},focusout:function(e){t.inputFocus(!1)},input:function(e){e.target.composing||(t.repwd=e.target.value)}}})]),t._v(" "),o("button",{staticClass:"btn btn-success",staticStyle:{width:"80%","margin-left":"10%"},attrs:{type:"button"},on:{click:t.submit}},[t._v("完成")])]):t._e(),t._v(" "),o("a",{staticClass:"loginbtn2",attrs:{href:"#/login"}},[t._v("已有账号,现在去登录")]),t._v(" "),o("NavProcess",{ref:"child1",staticClass:"process_navbar",attrs:{splitlength:"3"}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h5",[t._v("注册即代表已阅读并同意"),o("span",{staticStyle:{color:"#00B96D"}},[t._v("《用户服务协议》")])])}]}},85:function(t,e,o){function i(t){o(247)}var n=o(7)(o(155),o(341),i,null,null);t.exports=n.exports}});